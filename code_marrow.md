《代码之髓》
=======================

## 作者
    [日]西尾泰和 
  
## 简介
> 《代码之髓：编程语言核心概念》作者从编程语言设计的角度出发，围绕语言中共通或特有的核心概念，通过语言演变过程中的纵向比较和在多门语言中的横向比较，清晰地呈现了程序设计语言中函数、类型、作用域、类、继承等核心知识。本书旨在帮助读者更好地理解各种概念是因何而起，并在此基础上更好地判断为何使用、何时使用及怎样使用。同时，在阅读本书后，读者对今后不断出现的新概念的理解能力也将得到提升。
> 
>《代码之髓：编程语言核心概念》力求简明、通俗，注重可读性，可作为大学计算机科学和软件工程等专业程序设计语言概论教材、计算机等级考试的参考资料，也可作为软件开发人员的学习参考书。

## 作者简介
> 24岁取得理学博士学位。2007年起在Cybozu实验室从事提高知识生产力的软件开发工作。曾担任“2011年全日本安全与程序设计实战集训”程序设计语言组组长。特别关注编程语言的多样性及发展。著作有《Jython语言程序设计》《程序员应该了解的程序设计基础知识》《WEB+DB PRESS》（第60期特辑）等。


## 豆瓣链接
[豆瓣链接](https://book.douban.com/subject/25927585/)

## 目录

## 内容
* 如何深入高效地学习语言
  - 在比较中学习，语言共通的知识才是要点（如并不是所有语言都是0为假）
  - 在历史中学习，理解语言设计者的意图
* 程序设计语言诞生史
* 语法的诞生
  - 规则的诞生：怎么方便就怎么规定
* 程序的流程控制（if else while ...）
  - 结构化程序设计目的是让程序更易理解
* 函数：便于理解和重复使用
  - 递归，处理嵌套的数据结构
* 错误处理
  - 两种方式：使用返回值或使用异常；除C以外，多数都支持异常
    - 返回值：容易遗漏错误（忘记检查返回值）；可读性差
      - 成功返回0，错误返回其它
    - 异常处理：通过跳转集中处理，出口唯一（python立刻抛出异常比js返回undefined要好）
      - 多个出口时，成对处理的操作很难完成
      - 异常传递的问题，不知道抛出何种异常
        - 解决：检查型异常（虽好但没有普通采用，因为太麻烦）
* 名字和作用域
  - 取名代替编号（可读易理解）
  - 名字冲突：通过作用域解决（限定更小的有效范围）
    - 动态作用域：函数入口保存原值，出口写回变量(Perl-local)，共用对照表
      - 问题：改变变量后调用其它函数，被调用函数会受影响（解决方法：静态作用域）
    - 静态作用域：按函数区分对照表，退出时作废此对照表（Perl-my）
      - 很多语言采用静态作用域
      - 问题
        - 嵌套函数的问题；
        - 外部作用域再绑定
         - 解决：Python nonlocal；
* 类型
  - 同样的比特列，当解释为不同数据类型时，得到的值也不同。这就是类型的起源
  - 类型的扩展：最初为加入数值的类型而使用的类型的概念，被应用到更多的场合
  - 用户定义和面向对象
* 并发处理
  - 协作式多任务模式：在合适的节点自在进行交替（基于信任，可能找不到节点切换导致处理无法执行）
  - 抢占式多任务模式：隔一定时间就交替，由任务管理器进行中断操作（竞态条件问题）
  - actor模型：不共享内存而是通过传递消息的方法并发处理信息交互
  - 锁是一个表示使用中的状态牌（为了不让其它处理在中间介入，要使用一种能将值的检查和修改同时执行的命令。Java的synchronized lock）
  - 死锁：注意上锁顺序
  - 事务内存：创建新版本试着执行，中间有其它操作介入并，失败则回退。写入频率太高，多次回退则性能低下
    - 硬件和软件事务内存
* 对象与类
  - 现实中的物体如何在计算机中建模？面向对象
* 继承与代码再利用
  - 多层级的继承导致代码理解困难
  - 多重继承导致冲突问题
    - 解决一：禁止多重继承、委托、接口
    - 解决二：按顺序搜索
    - 解决三：混入式处理（Mix-in）
    - 解决四：Trait
  
